<!-- 
	
User Approved View

Navigation Button -> _onNavBack
Table: Employee, Date, Price, Location
Items (type navigation) -> _onPress 

-->

<mvc:View
    controllerName="intern2020.controller.UserBT"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	xmlns:layout="sap.ui.layout">

<Page   title="My {i18n>businessTrips}" 
        showHeader="true" 
        class="w3-backGround" 
        enableScrolling="false">
	
	<headerContent>
			<Button 
                text="SignOut" 
                press="_onSignOutPress" 
                icon="sap-icon://log">
            </Button>
	</headerContent>

    <Table
        id="userTable"
        class="sapUiResponsiveMargin"
        width="auto" 
		items="{path: '/TripSet'}">

		<headerToolbar>
         <Toolbar>
		 	<Title text="My Requests"/>
            <ToolbarSpacer/>
            <Toolbar>
            	<ToolbarSpacer/>
            	<SearchField width="100%" search="_onFilterSelect" selectOnFocus="false"/>
         </Toolbar>
         </Toolbar>
      	</headerToolbar>

 		<columns>
			<Column 
				width="20em">
				<Text text="{i18n>employee}"/>
			</Column>
			<Column
				demandPopin="false">
				<Text text="{i18n>date}"/>
			</Column>
			<Column
				demandPopin="false">
				<Text text="{i18n>price}"/>
			</Column>
			<Column
				demandPopin="false">
				<Text text="{i18n>location}"/>
			</Column>
			<Column
				width="20em"
				demandPopin="false">
				<Text text="{i18n>reason}"/>
			</Column>
		</columns>

		<items>
			<ColumnListItem
				id="listUser"
				type="Navigation"
				press="_onPress">
				<cells>
					<ObjectIdentifier id="employeeName" title="{FirstName} {LastName}"/>
					<Text text="{
   								path: 'StartTrip',
								type: 'sap.ui.model.type.Date',
								formatOptions: { 
									style: 'medium' 
									} 
								}"/>
					<Text text="{TotalSum}"/>
					<Text text="{TravelCountry}"/>
					<Text text="{Observations}"/>
				</cells>
			</ColumnListItem>
		</items>
	</Table>
</Page>
</mvc:View>